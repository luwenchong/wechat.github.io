<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>微信活码系统 - 五码轮换</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f0f7ff 0%, #e6f2ff 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            color: #333;
        }
        
        .container {
            max-width: 1000px;
            width: 100%;
            background: white;
            border-radius: 25px;
            box-shadow: 0 20px 40px rgba(0, 0, 150, 0.1);
            overflow: hidden;
            position: relative;
        }
        
        header {
            background: linear-gradient(to right, #2563eb, #1d4ed8);
            color: white;
            padding: 40px 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        header::before {
            content: '';
            position: absolute;
            top: -50px;
            right: -50px;
            width: 200px;
            height: 200px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
        }
        
        header::after {
            content: '';
            position: absolute;
            bottom: -80px;
            left: -50px;
            width: 250px;
            height: 250px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 50%;
        }
        
        .header-content {
            position: relative;
            z-index: 2;
        }
        
        header h1 {
            font-size: 2.8rem;
            margin-bottom: 15px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }
        
        header p {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 700px;
            margin: 0 auto;
            line-height: 1.6;
        }
        
        .content {
            padding: 50px 40px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .main-content {
            display: flex;
            width: 100%;
            gap: 40px;
            margin-bottom: 40px;
        }
        
        .qr-section {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .info-section {
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        
        .qr-container {
            position: relative;
            width: 280px;
            height: 280px;
            border: 15px solid #f0f7ff;
            border-radius: 20px;
            box-shadow: 0 12px 25px rgba(37, 99, 235, 0.2);
            margin-bottom: 30px;
            overflow: hidden;
            transition: all 0.5s ease;
            background: white;
        }
        
        .qr-container:hover {
            transform: translateY(-5px);
            box-shadow: 0 18px 35px rgba(37, 99, 235, 0.3);
        }
        
        #qr-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: opacity 0.5s ease;
        }
        
        .qr-name {
            font-size: 1.4rem;
            font-weight: 600;
            color: #1d4ed8;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .qr-counter {
            background: #3b82f6;
            color: white;
            padding: 10px 20px;
            border-radius: 30px;
            font-size: 16px;
            margin-bottom: 25px;
            display: inline-flex;
            align-items: center;
            box-shadow: 0 4px 10px rgba(59, 130, 246, 0.3);
        }
        
        .qr-counter i {
            margin-right: 10px;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        .switch-btn {
            background: linear-gradient(to right, #10b981, #059669);
            color: white;
            border: none;
            padding: 16px 35px;
            font-size: 18px;
            font-weight: 600;
            border-radius: 50px;
            cursor: pointer;
            display: flex;
            align-items: center;
            transition: all 0.3s ease;
            box-shadow: 0 7px 20px rgba(16, 185, 129, 0.3);
            margin-top: 10px;
        }
        
        .switch-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(16, 185, 129, 0.4);
            background: linear-gradient(to right, #0da271, #047857);
        }
        
        .switch-btn i {
            margin-right: 12px;
        }
        
        .instructions {
            background: #f8fafc;
            border-radius: 20px;
            padding: 30px;
            width: 100%;
            margin-bottom: 40px;
            border: 1px solid #e2e8f0;
        }
        
        .instructions h3 {
            color: #2563eb;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            font-size: 1.5rem;
        }
        
        .instructions h3 i {
            margin-right: 12px;
            color: #3b82f6;
        }
        
        .instructions ol {
            padding-left: 25px;
        }
        
        .instructions li {
            margin-bottom: 15px;
            line-height: 1.7;
            font-size: 1.1rem;
            position: relative;
            padding-left: 10px;
        }
        
        .instructions li::before {
            content: '•';
            color: #3b82f6;
            font-weight: bold;
            position: absolute;
            left: -15px;
            top: 0;
            font-size: 1.3rem;
        }
        
        .all-qrs {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 15px;
            width: 100%;
            margin-top: 20px;
        }
        
        .qr-item {
            background: white;
            border-radius: 15px;
            padding: 15px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            border: 2px solid #e2e8f0;
            cursor: pointer;
        }
        
        .qr-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(37, 99, 235, 0.15);
            border-color: #93c5fd;
        }
        
        .qr-item.active {
            border-color: #3b82f6;
            background: #eff6ff;
            box-shadow: 0 5px 15px rgba(59, 130, 246, 0.2);
        }
        
        .qr-item img {
            width: 100%;
            border-radius: 10px;
            margin-bottom: 10px;
        }
        
        .qr-item .name {
            font-weight: 600;
            color: #1e40af;
            font-size: 0.95rem;
        }
        
        .stats-container {
            display: flex;
            justify-content: space-between;
            width: 100%;
            gap: 20px;
            margin-top: 20px;
        }
        
        .stat-box {
            background: linear-gradient(to bottom right, #f0f9ff, #e0f2fe);
            border-radius: 15px;
            padding: 20px;
            flex: 1;
            text-align: center;
            border: 1px solid #dbeafe;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.03);
        }
        
        .stat-box h4 {
            color: #2563eb;
            margin-bottom: 15px;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .stat-box h4 i {
            margin-right: 8px;
        }
        
        .stat-box .value {
            font-size: 2.2rem;
            font-weight: 700;
            color: #1e3a8a;
            margin-bottom: 5px;
        }
        
        .stat-box .label {
            font-size: 0.95rem;
            color: #4b5563;
        }
        
        footer {
            background: #1e293b;
            color: #f1f5f9;
            text-align: center;
            padding: 25px;
            font-size: 1rem;
            border-top: 1px solid #334155;
        }
        
        footer p {
            opacity: 0.8;
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto;
        }
        
        @media (max-width: 900px) {
            .main-content {
                flex-direction: column;
                gap: 30px;
            }
            
            .all-qrs {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .stats-container {
                flex-wrap: wrap;
            }
            
            .stat-box {
                min-width: calc(50% - 10px);
            }
        }
        
        @media (max-width: 600px) {
            .all-qrs {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .stat-box {
                min-width: 100%;
            }
            
            header h1 {
                font-size: 2.2rem;
            }
            
            .content {
                padding: 30px 20px;
            }
            
            .qr-container {
                width: 240px;
                height: 240px;
            }
        }
        
        .qr-change-animation {
            animation: qrChange 1s ease;
        }
        
        @keyframes qrChange {
            0% { opacity: 0.3; transform: scale(0.95); }
            50% { opacity: 0.8; transform: scale(1.05); }
            100% { opacity: 1; transform: scale(1); }
        }
        
        .badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: #10b981;
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            z-index: 10;
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <h1><i class="fas fa-qrcode"></i> 微信智能活码系统</h1>
                <p>五码轮换策略 | 每20次访问自动切换 | 有效防止微信添加限制</p>
            </div>
        </header>
        
        <div class="content">
            <div class="main-content">
                <div class="qr-section">
                    <div class="qr-name" id="qr-name">工作微信二维码</div>
                    <div class="qr-container">
                        <span class="badge">当前使用</span>
                        <img id="qr-img" src="https://api.qrserver.com/v1/create-qr-code/?size=230x230&data=https://weixin.qq.com/" alt="微信二维码">
                    </div>
                    
                    <div class="qr-counter">
                        <i class="fas fa-redo-alt"></i>
                        <span>二维码将在 <span id="countdown">20</span> 次访问后切换</span>
                    </div>
                    
                    <button class="switch-btn" onclick="switchQR()">
                        <i class="fas fa-random"></i> 手动切换二维码
                    </button>
                </div>
                
                <div class="info-section">
                    <div class="instructions">
                        <h3><i class="fas fa-info-circle"></i> 使用说明</h3>
                        <ol>
                            <li>扫描上方二维码添加我的微信，添加时请备注来源</li>
                            <li>如果无法添加，请点击"手动切换二维码"按钮尝试其他二维码</li>
                            <li>系统每20次访问会自动切换到下一个二维码，防止微信限制</li>
                            <li>下方展示所有可用的微信二维码，点击可立即切换</li>
                            <li>当前二维码失效时，系统会自动使用备用二维码</li>
                            <li>如遇到任何问题，请刷新页面或稍后再试</li>
                        </ol>
                    </div>
                    
                    <div class="stats-container">
                        <div class="stat-box">
                            <h4><i class="fas fa-qrcode"></i> 当前二维码</h4>
                            <div class="value" id="current-qr">1</div>
                            <div class="label">/ 共5个二维码</div>
                        </div>
                        
                        <div class="stat-box">
                            <h4><i class="fas fa-calendar-day"></i> 今日访问</h4>
                            <div class="value" id="today-count">68</div>
                            <div class="label">次</div>
                        </div>
                        
                        <div class="stat-box">
                            <h4><i class="fas fa-chart-line"></i> 总访问</h4>
                            <div class="value" id="total-count">284</div>
                            <div class="label">次</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <h3 style="color: #2563eb; width: 100%; margin-bottom: 20px; display: flex; align-items: center;">
                <i class="fas fa-list"></i> 所有可用二维码
            </h3>
            
            <div class="all-qrs">
                <!-- 二维码将通过JavaScript动态生成 -->
            </div>
        </div>
        
        <footer>
            <p>© 2023 微信智能活码系统 | 基于前端技术实现 | 支持五个二维码轮换 | 每20次访问自动切换</p>
            <p>提示：本系统使用浏览器本地存储保存访问数据，清除缓存会重置计数</p>
        </footer>
    </div>

    <script>
        // 二维码列表 - 替换为您的五个二维码图片路径
        const qrList = [
            "https://api.qrserver.com/v1/create-qr-code/?size=230x230&data=https://weixin.qq.com/qr/abc123",
            "https://api.qrserver.com/v1/create-qr-code/?size=230x230&data=https://weixin.qq.com/qr/def456",
            "https://api.qrserver.com/v1/create-qr-code/?size=230x230&data=https://weixin.qq.com/qr/ghi789",
            "https://api.qrserver.com/v1/create-qr-code/?size=230x230&data=https://weixin.qq.com/qr/jkl012",
            "https://api.qrserver.com/v1/create-qr-code/?size=230x230&data=https://weixin.qq.com/qr/mno345"
        ];
        
        // 二维码名称 - 自定义描述
        const qrNames = [
            "工作微信", 
            "私人微信", 
            "商务合作", 
            "客服微信", 
            "备用微信"
        ];
        
        // 获取DOM元素
        const qrImg = document.getElementById('qr-img');
        const qrNameEl = document.getElementById('qr-name');
        const countdownEl = document.getElementById('countdown');
        const currentQrEl = document.getElementById('current-qr');
        const todayCountEl = document.getElementById('today-count');
        const totalCountEl = document.getElementById('total-count');
        const allQrsContainer = document.querySelector('.all-qrs');
        
        // 初始化变量
        let index = 0;
        let visitCount = localStorage.getItem('visitCount') ? parseInt(localStorage.getItem('visitCount')) : 0;
        let todayCount = localStorage.getItem('todayCount') ? parseInt(localStorage.getItem('todayCount')) : 68;
        let totalCount = localStorage.getItem('totalCount') ? parseInt(localStorage.getItem('totalCount')) : 284;
        const visitsPerQR = 20;
        
        // 页面加载时初始化
        document.addEventListener('DOMContentLoaded', function() {
            // 更新访问计数
            visitCount++;
            todayCount++;
            totalCount++;
            
            // 保存到localStorage
            localStorage.setItem('visitCount', visitCount);
            localStorage.setItem('todayCount', todayCount);
            localStorage.setItem('totalCount', totalCount);
            
            // 更新显示
            todayCountEl.textContent = todayCount;
            totalCountEl.textContent = totalCount;
            
            // 计算当前二维码索引
            index = Math.floor(visitCount / visitsPerQR) % qrList.length;
            
            // 设置二维码
            setQR(index);
            
            // 计算并显示剩余访问次数
            const remaining = visitsPerQR - (visitCount % visitsPerQR);
            countdownEl.textContent = remaining;
            
            // 生成所有二维码缩略图
            generateAllQRs();
        });
        
        // 设置二维码函数
        function setQR(idx) {
            qrImg.src = qrList[idx];
            qrNameEl.textContent = qrNames[idx];
            currentQrEl.textContent = idx + 1;
            
            // 添加切换动画
            qrImg.classList.add('qr-change-animation');
            setTimeout(() => {
                qrImg.classList.remove('qr-change-animation');
            }, 1000);
            
            // 更新所有二维码项的活动状态
            document.querySelectorAll('.qr-item').forEach((item, i) => {
                if (i === idx) {
                    item.classList.add('active');
                } else {
                    item.classList.remove('active');
                }
            });
        }
        
        // 手动切换二维码
        function switchQR() {
            // 切换到下一个二维码
            index = (index + 1) % qrList.length;
            setQR(index);
            
            // 重置该二维码的计数
            visitCount = Math.floor(visitCount / visitsPerQR) * visitsPerQR;
            localStorage.setItem('visitCount', visitCount);
            
            // 更新显示
            const remaining = visitsPerQR - (visitCount % visitsPerQR);
            countdownEl.textContent = remaining;
        }
        
        // 生成所有二维码缩略图
        function generateAllQRs() {
            allQrsContainer.innerHTML = '';
            
            qrList.forEach((qr, idx) => {
                const qrItem = document.createElement('div');
                qrItem.className = `qr-item ${idx === index ? 'active' : ''}`;
                qrItem.innerHTML = `
                    <img src="${qr}" alt="${qrNames[idx]}">
                    <div class="name">${qrNames[idx]}</div>
                `;
                
                qrItem.addEventListener('click', () => {
                    index = idx;
                    setQR(index);
                    
                    // 重置该二维码的计数
                    visitCount = Math.floor(visitCount / visitsPerQR) * visitsPerQR;
                    localStorage.setItem('visitCount', visitCount);
                    
                    // 更新显示
                    const remaining = visitsPerQR - (visitCount % visitsPerQR);
                    countdownEl.textContent = remaining;
                });
                
                allQrsContainer.appendChild(qrItem);
            });
        }
        
        // 每10秒更新一次计数
        setInterval(() => {
            const remaining = visitsPerQR - (visitCount % visitsPerQR);
            countdownEl.textContent = remaining;
        }, 10000);
    </script>
</body>
</html>